### 题目 397. 整数替换
#### 题目描述
给定一个正整数 `n` ，你可以做如下操作：

- 如果 `n` 是偶数，则用 `n / 2`替换 `n` 。
- 如果 `n` 是奇数，则可以用 `n + 1`或`n - 1`替换 `n` 。
`n` 变为 `1` 所需的最小替换次数是多少？

 

示例 1：

```js
输入：n = 8
输出：3
解释：8 -> 4 -> 2 -> 1
```
示例 2：

```js
输入：n = 7
输出：4
解释：7 -> 8 -> 4 -> 2 -> 1
或 7 -> 6 -> 3 -> 2 -> 1
```
示例 3：

```js
输入：n = 4
输出：2
```
 

提示：

- 1 <= n <= 231 - 1


### 解题思路
#### 方法一：位运算
**解析**
使用一个循环，内部对奇偶数进行处理：

- 偶数：其二进制低位为 `0`，直接无符号右移 `1` 位即可
- 奇数：判断是 +`1` 还是 `-1 =>` 应该能使下两轮循环能够直接进行无符号右移而无需再操作奇数
为什么是下两轮呢？约定 `7=>8=>4=>2=>1` 是最优解而不是 `7=>6=>3=>2=>1`；前者进行一次奇数操作后，必定会连续进行两次无符号右移；而后者进行一次无符号右移后，又开始了一次奇数操作。

所以最优解应该保证奇数操作尽可能少，在操作奇数时，判断其 `+1/-1` 后是否能被 `4` 整除，接下来就能连续进行两次无符号右移了。

另外要注意 `3` 是特例，因为其最优解应该是 `3=>2=>1`，而不是 `3=>4=>2=>1`；只需对 `3` 执行 `-1` 操作即可。