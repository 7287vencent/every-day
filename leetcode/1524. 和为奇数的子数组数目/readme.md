### 题目 1524. 和为奇数的子数组数目
#### 题目描述
给你一个整数数组 `arr` 。请你返回和为 奇数 的子数组数目。

由于答案可能会很大，请你将结果对 `10^9 + 7` 取余后返回。

 

示例 1：

```js
输入：arr = [1,3,5]
输出：4
解释：所有的子数组为 [[1],[1,3],[1,3,5],[3],[3,5],[5]] 。
所有子数组的和为 [1,4,9,3,8,5].
奇数和包括 [1,9,3,5] ，所以答案为 4 。
```
示例 2 ：

```js
输入：arr = [2,4,6]
输出：0
解释：所有子数组为 [[2],[2,4],[2,4,6],[4],[4,6],[6]] 。
所有子数组和为 [2,6,12,4,10,6] 。
所有子数组和都是偶数，所以答案为 0 。
```
示例 3：

```js
输入：arr = [1,2,3,4,5,6,7]
输出：16
```
示例 4：

```js
输入：arr = [100,100,99,99]
输出：4
```
示例 5：

```js
输入：arr = [7]
输出：1
```
 

提示：

- 1 <= arr.length <= 10^5
- 1 <= arr[i] <= 100

### 解题思路
[官方题解](https://leetcode-cn.com/problems/number-of-sub-arrays-with-odd-sum/solution/he-wei-qi-shu-de-zi-shu-zu-shu-mu-by-leetcode-solu/)

#### 方法一：前缀和 + 数学
这道题要求返回和为奇数的子数组数目。为了快速计算任意子数组的和，可以通过维护前缀和的方式。这道题只需要知道每个子数组的和的奇偶性，不需要知道子数组的和的具体值，因此不需要维护每一个前缀和，只需要维护奇数前缀和的数量与偶数前缀和的数量。

分别使用 `odd` 和 `even` 表示奇数前缀和的数量与偶数前缀和的数量。初始时，`odd=0`，`even=1`，因为空的前缀的和是 `0`，也是偶数前缀和。

遍历数组 `arr` 并计算前缀和。对于下标 `i` 的位置的前缀和（即 `arr[0]+arr[1]+…+arr[i]`），根据奇偶性进行如下操作：

- 当下标 `i` 的位置的前缀和是偶数时，如果下标 `j` 满足 `j < i` 且下标 `j` 的位置的前缀和是奇数，则从下标 `j+1` 到下标 `i` 的子数组的和是奇数，因此，以下标 `i` 结尾的子数组中，和为奇数的子数组的数量即为奇数前缀和的数量 `odd`；

- 当下标 `i` 的位置的前缀和是奇数时，如果下标 `j` 满足 `j < i` 且下标 `j` 的位置的前缀和是偶数，则从下标 `j+1` 到下标 `i` 的子数组的和是奇数，因此，以下标 `i` 结尾的子数组中，和为奇数的子数组的数量即为偶数前缀和的数量 `even`。

上述下标 `j` 的最小可能取值为 `−1`，当 `j=−1` 时表示下标 `j` 的位置的前缀为空。

在更新和为奇数的子数组数量之后，需要根据下标 `i` 的位置的前缀和的奇偶性更新 `odd` 或 `even` 的值。如果前缀和是奇数，则 `odd` 的值加 `1`；如果前缀和是偶数，则 `even` 的值加 `1`。